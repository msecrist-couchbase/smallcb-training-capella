title: Search Query String
page: page-04
lang: py
infoBefore: |
  <div>
  <a href='/examples/basic-py-upsert' class="prev-button">Previous</a>
  <a href='/examples/basic-py-next-steps' class="next-button" style="float:right">Next</a>
  </div>
  <br>
code: |
  #!/usr/bin/python3

  import sys

  from couchbase.cluster import Cluster, ClusterOptions
  from couchbase_core.cluster import PasswordAuthenticator
  from couchbase.exceptions import CouchbaseException
  from couchbase.search import QueryStringQuery, MatchQuery, SearchQuery, SearchOptions, PrefixQuery, HighlightStyle, SortField, \
    SortScore, TermFacet

  pa = PasswordAuthenticator('{{.CBUser}}', '{{.CBPswd}}')
  cluster = Cluster('couchbase://{{.Host}}', ClusterOptions(pa))

  try:
    result = cluster.search_query("travel-fts-index", QueryStringQuery("swanky"), SearchOptions(limit=10))
    for row in result.rows():
      print("Found row: {}".format(row))
    print("Reported total rows:{}".format(result.metadata().metrics.total_rows))
  except CouchbaseException as e:
    print("Couchbase Error:"+str(e))
  except Exception as ex:
    print("Error:"+str(ex))
  except:
    print("exception:", sys.exc_info()[0])

infoAfter: |
  Basic Search query string,
  with looping through each returned row.
  <br/><br/>
  Visit the docs to learn more about
  <a target="_blank" href="https://docs.couchbase.com/python-sdk/current/howtos/full-text-searching-with-sdk.html">Full Text Search in Python</a>.
