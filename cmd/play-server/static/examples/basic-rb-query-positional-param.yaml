title: Query w/ Positional Param
page: page-07
lang: rb
infoBefore: |
  <div>
  <a href='/examples/basic-rb-query-named-param' class="prev-button">Previous</a>
  <a href='/examples/basic-rb-subdoc-lookup' class="next-button">Next</a>
  </div>
  <br>
code: |

  require "couchbase"
  include Couchbase

  options = Cluster::ClusterOptions.new
  options.authenticate("{{.CBUser}}", "{{.CBPswd}}")
  cluster = Cluster.connect("couchbase://{{.Host}}", options)

  bucket = cluster.bucket("travel-sample")

  begin
    options = Cluster::QueryOptions.new
    options.positional_parameters(["hotel"])
    result = cluster.query('SELECT x.* FROM `travel-sample` x WHERE x.`type`=$1 LIMIT 10;', options)
    result.rows.each do |row|
      puts row
    end
  rescue Couchbase::Error::CouchbaseError => ex
    puts "Couchbase Error: #{ex}"
  end
infoAfter: |
  This example shows how to use positional parameters with the cluster.query() method.
  <br/><br/>
  Visit the docs to learn more about
  <a target="_blank" href="https://docs.couchbase.com/ruby-sdk/current/howtos/n1ql-queries-with-sdk.html">N1QL Queries with Ruby</a>.
